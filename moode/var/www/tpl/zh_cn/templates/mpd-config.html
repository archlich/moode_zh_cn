<!-- 
/**
 * moOde audio player (C) 2014 Tim Curtis
 * http://moodeaudio.org
 *
 * tsunamp player ui (C) 2013 Andrea Coiutti & Simone De Gregori
 * http://www.tsunamp.com
 *
 * This Program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 3, or (at your option)
 * any later version.
 *
 * This Program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 *
 * 2019-05-07 TC moOde 5.2
 *
 */
-->	
<div class="container">
	<div class="container2">
    <h1 class="snd-config">MPD配置</h1>

    <form class="form-horizontal" action="" method="post">
    	<legend class="legend-configs">
			<button class="btn btn-medium btn-primary btn-submit" type="submit" name="save" value="1" $_save_disabled>保存</button>
			<a aria-label="Help" class="info-toggle" data-cmd="info-buttons" href="#notarget"><i class="fas fa-info-circle"></i></a>
			<span id="info-buttons" class="help-block-configs help-block-margin legend-info-help hide">
				更新MPD配置并重启MPD。<br>
            </span>
			<span class="help-block-configs $_hide_msg" style="padding-bottom: 6px; font-size: 14px; line-height: 20px; font-weight: 500;">
				若音频输出设定为蓝牙，则MPD设置不能变更。<br>
			</span>
		</legend>

        <fieldset>
            <div class="control-group">
				<legend>音频设备</legend>
				<label class="control-label" for="device">设备类型</label>
				<div class="controls">	
	                <select id="device" name="conf[device]" class="input-large">					
						$_mpd_select[device]					
	                </select>
				</div>
            </div>

            <div class="control-group">
                <label class="control-label" for="mixer-type">音量控制</label>
                <div class="controls">
                    <select id="mixer-type" name="conf[mixer_type]" class="input-large">
						$_mpd_select[mixer_type]
                    </select>
					<a aria-label="Help" class="info-toggle" data-cmd="info-mixer-type" href="#notarget"><i class="fas fa-info-circle"></i></a>
					<span id="info-mixer-type" class="help-block-configs help-block-margin hide">
	                    <b>- 关闭 (0dB输出):&nbsp;</b>继续使用外部模拟或数字音量控制器。<br>
						<b>- 硬件音量:&nbsp;</b>使用音频设备上的音量控制器.<br>
	                    <b>- 软件音量:&nbsp;</b>使用MPD音量控制器(带抖动的32位浮点数).
					</span>
					<span class="help-block-configs help-block-margin">
	                    "关闭"设置将以100%(0dB)的音量输出。<br>
					</span>
                </div>
            </div>
		
			<div class="control-group">
                <label class="control-label" for="dsd-usb">DSD覆盖PCM</label>
                <div class="controls">
					<select id="dsd-usb" name="conf[dop]" class="input-large">
						$_mpd_select[dop]
					</select>
					<a aria-label="Help" class="info-toggle" data-cmd="info-dsd-audio" href="#notarget"><i class="fas fa-info-circle"></i></a>
					<span id="info-dsd-audio" class="help-block-configs help-block-margin hide">
						<b>如果Linux / ALSA和音频设备支持，则自动使用本地DSD解码。</b><br>
						- 是:&nbsp;若本地DSD解码不支持，则以DoP方式解码。<br>
						- 否:&nbsp;如果本地DSD不支持，则使用DSD到PCM的即时转换。
                    </span>
                </div>
            </div>

            <!--div class="control-group">
                <label class="control-label" for="gapless-mp3-playback">Gapless mp3 playback</label>
                <div class="controls">
					<select id="gapless-mp3-playback" name="conf[gapless_mp3_playback]" class="input-large">
						$_mpd_select[gapless_mp3_playback]
					</select>
					<a aria-label="Help" class="info-toggle" data-cmd="info-gapless-mp3-playback" href="#notarget"><i class="fas fa-info-circle"></i></a>
					<span id="info-gapless-mp3-playback" class="help-block-configs help-block-margin hide">
                    	Select "no" if mp3 playback ends abruptly.
                    </span>
                </div>
            </div r45b deprecate from form and conf file -->

		    <div class="control-group">
				<legend>SoX重采样</legend>
				<label class="control-label" for="audio-output-format">采样率</label>
                <div class="controls">
                    <select id="audio-output-format" name="conf[audio_output_format]" class="input-large">
						$_mpd_select[audio_output_format]
                    </select>
                </div>
			</div>

            <div class="control-group">
                <label class="control-label" for="samplerate-converter">质量</label>
                <div class="controls">
                    <select id="samplerate-converter" name="conf[samplerate_converter]" class="input-large">
						$_mpd_select[samplerate_converter]
                    </select>
					<a aria-label="Help" class="info-toggle" data-cmd="info-samplerate-converter" href="#notarget"><i class="fas fa-info-circle"></i></a>
					<span id="info-samplerate-converter" class="help-block-configs help-block-margin hide">
						<b>最高质量:&nbsp;</b>95%的带宽，175dB噪声抑制，线性相位。<br>
						<b>高质量:&nbsp;</b>95%的带宽，120dB噪声抑制，线性相位<br>
						<b>中等质量:&nbsp;</b>95%的带宽，120dB噪声抑制，线性相位<br>
					</span>
                </div>
            </div> 

            <div class="control-group">
                <label class="control-label" for="sox-multithreading">多线程</label>
                <div class="controls">
                    <select id="sox-multithreading" name="conf[sox_multithreading]" class="input-large">
						$_mpd_select[sox_multithreading]
                    </select>
					<a aria-label="Help" class="info-toggle" data-cmd="info-sox-multithreading" href="#notarget"><i class="fas fa-info-circle"></i></a>
					<span id="info-sox-multithreading" class="help-block-configs help-block-margin hide">
	                    在多个线程中运行SoX以提高效率。<br>
					</span>
                </div>
            </div> 

			<div class="control-group">
				<legend>增益和标准化</legend>
                <label class="control-label" for="replay-gain">播放增益</label>
                <div class="controls">
					<select id="replaygain" name="conf[replaygain]" class="input-large">
						$_mpd_select[replaygain]
					</select>
					<a aria-label="Help" class="info-toggle" data-cmd="info-replaygain" href="#notarget"><i class="fas fa-info-circle"></i></a>
					<span id="info-replaygain" class="help-block-configs help-block-margin hide">
						调整使用播放增益标签播放的歌曲音量，将其设置为“专辑”后可根据专辑的播放增益标签来调整音量，而将其设置为“音轨”可根据音轨的播放增益标签来调整音量；如果激活MPD随机播放，则将其设置为“自动”来使用轨道的播放增益标签，否则将使用专辑的播放增益标签。目前仅支持FLAC，Ogg Vorbis，Musepack和MP3（通过ID3v2 ReplayGain标签，而不是APEv2）。
                   </span>
                </div>
            </div>

			<div class="control-group">
                <label class="control-label" for="replaygain-preamp">播放增益的前置放大器</label>
                <div class="controls">
                    <input class="input-large" type="number" id="replaygain-preamp" name="conf[replaygain_preamp]" value="$_mpd_select[replaygain_preamp]" min="-15" max="15">
					<a aria-label="Help" class="info-toggle" data-cmd="info-replaygain-preamp" href="#notarget"><i class="fas fa-info-circle"></i></a>
					<span id="info-replaygain-preamp" class="help-block-configs help-block-margin hide">
						根据播放增益标签将增益(dB)应用于歌曲播放，增益范围为-15至15。
                    </span>
                </div>
            </div>

			<!-- DEPRECATE -->
			<!--div class="control-group">
                <label class="control-label" for="replaygain-handler">ReplayGain handler</label>
                <div class="controls">
					<select id="replay-gain-handler" name="conf[replay_gain_handler]" class="input-large">
						$_mpd_select[replay_gain_handler]
					</select>
					<a aria-label="Help" class="info-toggle" data-cmd="info-replay-gain-handler" href="#notarget"><i class="fas fa-info-circle"></i></a>
					<span id="info-replay-gain-handler" class="help-block-configs help-block-margin hide">
						Specifies how replay gain is applied. The default is "software" which uses an internal software volume control. The setting "mixer" uses the configured (hardware) volume control.
					</span>
                </div>
            </div-->

			<div class="control-group">
                <label class="control-label" for="volume-normalization">音量标准化</label>
                <div class="controls">
					<select id="volume-normalization" name="conf[volume_normalization]" class="input-large">
						$_mpd_select[volume_normalization]
					</select>
					<a aria-label="Help" class="info-toggle" data-cmd="info-volume-normalization" href="#notarget"><i class="fas fa-info-circle"></i></a>
					<span id="info-volume-normalization" class="help-block-configs help-block-margin hide">
						在播放时调整歌曲的音量，使它们听起来响度相同.<br>
						备注: 输出的比特深度将转换为16比特。
					</span>
                </div>
            </div>

            <div class="control-group">
				<legend>音频缓冲</legend>
                <label class="control-label" for="audio-buffer-size">音频缓冲大小(KB)</label>
                <div class="controls">
                    <input class="input-large" type="number" id="audio-buffer-size" name="conf[audio_buffer_size]" value="$_mpd_select[audio_buffer_size]" min="4096" max="65535">
					<a aria-label="Help" class="info-toggle" data-cmd="info-audio-buffer-size" href="#notarget"><i class="fas fa-info-circle"></i></a>
					<span id="info-audio-buffer-size" class="help-block-configs help-block-margin hide">
                    	范围为4096至65535 KB，默认大小为4096 KB. 
                    </span>
                </div>
            </div>

			<div class="control-group $_hide_020_params">  <!--r45b for 0.20 only -->
                <label class="control-label" for="buffer-before-play">播放前缓冲容量</label>
                <div class="controls">
					<select id="buffer-before-play" name="conf[buffer_before_play]" class="input-large">
						$_mpd_select[buffer_before_play]
					</select>
					<a aria-label="Help" class="info-toggle" data-cmd="info-buffer-before-play" href="#notarget"><i class="fas fa-info-circle"></i></a>
					<span id="info-buffer-before-play" class="help-block-configs help-block-margin hide">
                    	默认缓冲容量10%，最小/最大的缓冲容量为10%/30%.
                    </span>
                </div>
            </div>

			<!-- DEPRECATE -->
			<!--div class="control-group">
                <label class="control-label" for="buffer-time">Hardware buffer time</label>
                <div class="controls">
					<select id="buffer-time" name="conf[buffer_time]" class="input-large">
						$_mpd_select[buffer_time]
					</select>
					<a aria-label="Help" class="info-toggle" data-cmd="info-buffer-time" href="#notarget"><i class="fas fa-info-circle"></i></a>
					<span id="info-buffer-time" class="help-block-configs help-block-margin hide">
						This sets the length of the hardware sample buffer in microseconds.  Increasing	it may help to reduce or eliminate skipping on certain setups. Most users do not need to change this. The default is 500000 microseconds (0.5 seconds).
					</span>
                </div>
            </div>

			<div class="control-group">
                <label class="control-label" for="period-time">Hardware period time</label>
                <div class="controls">
					<select id="period-time" name="conf[period_time]" class="input-large">
						$_mpd_select[period_time]
					</select>
					<a aria-label="Help" class="info-toggle" data-cmd="info-period-time" href="#notarget"><i class="fas fa-info-circle"></i></a>
					<span id="info-period-time" class="help-block-configs help-block-margin hide">
						This sets the time between hardware sample transfers in microseconds. Increasing this can reduce CPU usage while lowering it can reduce underrun errors on bandwidth-limited devices. Some users have reported good results with this set to 50000, but not all devices support values this high. Most users do not need to change this. The default is 256000000 / sample_rate(kHz), or 5804 microseconds for CD-quality audio.
					</span>
                </div>
            </div>

			<div class="control-group">
				<legend>ALSA auto-conversion</legend>
                <label class="control-label" for="auto-resample">ALSA auto-resample</label>
                <div class="controls">
					<select id="auto-resample" name="conf[auto_resample]" class="input-large">
						$_mpd_select[auto_resample]
					</select>
					<a aria-label="Help" class="info-toggle" data-cmd="info-auto-resample" href="#notarget"><i class="fas fa-info-circle"></i></a>
					<span id="info-auto-resample" class="help-block-configs help-block-margin hide">
						Setting this to "No" disables ALSA's software resampling. NOTE: This lets MPD do the resampling if the hardware does not support the required sample rate. Default: "Yes".
					</span>
                </div>
            </div>

			<div class="control-group">
                <label class="control-label" for="auto-channels">ALSA auto-channels</label>
                <div class="controls">
					<select id="auto-channels" name="conf[auto_channels]" class="input-large">
						$_mpd_select[auto_channels]
					</select>
					<a aria-label="Help" class="info-toggle" data-cmd="info-auto-channels" href="#notarget"><i class="fas fa-info-circle"></i></a>
					<span id="info-auto-channels" class="help-block-configs help-block-margin hide">
						Setting this to "No disables ALSA's channel conversion. WARNING: If set to "No" and the hardware does not support the required number of channels MPD will fail to open the audio output. Default: "Yes".
					</span>
                </div>
            </div>

			<div class="control-group">
                <label class="control-label" for="auto-format">ALSA auto-format</label>
                <div class="controls">
					<select id="auto-format" name="conf[auto_format]" class="input-large">
						$_mpd_select[auto_format]
					</select>
					<a aria-label="Help" class="info-toggle" data-cmd="info-auto-format" href="#notarget"><i class="fas fa-info-circle"></i></a>
					<span id="info-auto-format" class="help-block-configs help-block-margin hide">
						Setting this to "No" disables ALSA's sample format conversion. WARNING: If set to "No" and the hardware does not support the required sample format MPD will fail to open the audio output. Default: "Yes".
					</span>
					<span class="help-block-configs help-block-margin">
	                    WARNING: Setting this to "No" is not compatible with Crossfeed, Parametric EQ or Graphic EQ.
					</span>
                </div>
            </div-->
		</fieldset>		
    </form>
</div>
</div>
